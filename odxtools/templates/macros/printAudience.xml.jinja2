{#- -*- mode: sgml; tab-width: 1; indent-tabs-mode: nil -*-
 #
 # SPDX-License-Identifier: MIT
 # Copyright (c) 2022 MBition GmbH
-#}

{%- macro printAdditionalAudience(audience) -%}
<ADDITIONAL-AUDIENCE ID="{{audience.odx_id.local_id}}">
 <SHORT-NAME>{{audience.short_name}}</SHORT-NAME>
{%- if audience.long_name %}
 <LONG-NAME>{{audience.long_name}}</LONG-NAME>
{%- endif %}
{%- if audience.description is string and audience.description.strip() %}
 <DESC>
{{audience.description}}
 </DESC>
{%- endif %}
</ADDITIONAL-AUDIENCE>
{%- endmacro -%}

{%- macro printAudience(audience) -%}
<AUDIENCE
  {%- if audience._is_supplier is not none %}
                 IS-SUPPLIER="{{bool_to_str(audience._is_supplier)}}"
  {%- endif %}
  {%- if audience._is_development is not none %}
                 IS-DEVELOPMENT="{{bool_to_str(audience._is_development)}}"
  {%- endif %}
  {%- if audience._is_manufactoring is not none %}
                 IS-MANUFACTORING="{{bool_to_str(audience._is_manufactoring)}}"
  {%- endif %}
  {%- if audience._is_aftersales is not none %}
                 IS-AFTERSALES="{{bool_to_str(audience._is_aftersales)}}"
  {%- endif %}
  {%- if audience._is_aftermarket is not none %}
                 IS-AFTERMARKET="{{bool_to_str(audience._is_aftermarket)}}"
  {%- endif %} >
{%- if audience.enabled_audience_refs %}
 <ENABLED-AUDIENCE-REFS>
{%- for ref in audience.enabled_audience_refs %}
  <ENABLED-AUDIENCE-REF ID-REF="{{ref.ref_id}}" />
{%- endfor %}
 </ENABLED-AUDIENCE-REFS>
{%- endif%}
{%- if audience.disabled_audience_refs %}
 <DISABLED-AUDIENCE-REFS>
{%- for ref in audience.disabled_audience_refs %}
  <DISABLED-AUDIENCE-REF ID-REF="{{ref.ref_id}}" />
{%- endfor %}
 </DISABLED-AUDIENCE-REFS>
{%- endif%}
</AUDIENCE>
{%- endmacro -%}
